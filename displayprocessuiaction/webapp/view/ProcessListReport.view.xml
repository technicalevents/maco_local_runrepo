<mvc:View xmlns:core="sap.ui.core" 
		  xmlns="sap.m" 
		  xmlns:semantic="sap.f.semantic" 
		  xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"
		  xmlns:smartTable="sap.ui.comp.smarttable"
		  xmlns:mvc="sap.ui.core.mvc"
		  xmlns:c="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
		  controllerName="com.sap.cd.maco.monitor.ui.app.processuiactions.view.ProcessListReport"
          xmlns:reuseTable="com.sap.cd.maco.mmt.ui.reuse.control.table"
          xmlns:reuseButton="com.sap.cd.maco.mmt.ui.reuse.control.button"
          xmlns:variants="sap.ui.comp.smartvariants">
    <semantic:SemanticPage headerExpanded="true" 
						   toggleHeaderOnTitleClick="true">
  		<semantic:titleHeading>
			 <variants:SmartVariantManagement id="idProcessVariantManagement" 
											  persistencyKey="com.sap.cd.maco.monitor.ui.app.controller.processuiactions.filterbar"/>
		</semantic:titleHeading>
    <semantic:headerContent>
        <smartFilterBar:SmartFilterBar id="idProcessSmartFilterBar"
									   smartVariant="idProcessVariantManagement"
									   enableBasicSearch="true"
									   useDateRangeType="true"
									   useToolbar="false"
									   initialized="onFilterBarInitialized"
									   filterChange="onProcessFilterBarChanged"
									   showFilterConfiguration="false"
									   persistencyKey="com.sap.cd.maco.monitor.ui.app.controller.processuiactions.filterbar"
									   entitySet="xMP4GxC_ProcessHeader_UI">
        </smartFilterBar:SmartFilterBar>
    </semantic:headerContent>
    <semantic:content>
		<smartTable:SmartTable id="idProcessSmartTable"
							   entitySet="xMP4GxC_ProcessHeader_UI"
							   tableType="ResponsiveTable"
							   smartFilterId="idProcessSmartFilterBar"
							   smartVariant="idProcessVariantManagement"
							   enableAutoBinding="true" 
							   demandPopin="true"
							   useExportToExcel="false"
							   header="{i18n>PROCESS_PLURAL_LBL}"
							   useVariantManagement="false" 
							   c:p13nDialogSettings='{filter:{visible:false}}' 
							   beforeRebindTable="onBeforeRebindTable"
							   persistencyKey="com.sap.cd.maco.mmt.ui.app.controller.processuiactions.table"
							   requestAtLeastFields="ProcessDocumentKey,StatusCriticality,ProcessID,OwnerUUID,OwnerUUIDText">
			<smartTable:customToolbar>
				<OverflowToolbar design="Transparent">
					<ToolbarSpacer/>
					<Button text="{i18n>EXECUTE_MESSAGE_AGGREGATION_BTN_TXT}"
							enabled="{this>/tableActionEnabled/executeMsgAggr}"
							type="Transparent"
							press="onAction('executeMsgAggr', $event)"/>
					<Button text="{i18n>CLOSE_LATEST_DEADLINE_BTN_TXT}"
			                enabled="{this>/tableActionEnabled/reportExecution}"
			                type="Transparent"
			                c:reportAction="Deadline"
			                press="onAction('reportExecution', $event)"/>
			        <Button text="{i18n>EXECUTE_TRANSFER_DOCUMENT_BTN_TXT}"
			                enabled="{this>/tableActionEnabled/reportExecution}"
			                type="Transparent"
			                c:reportAction="TriggerDoc"
			                press="onAction('reportExecution', $event)"/>
				</OverflowToolbar>
			</smartTable:customToolbar>
			<Table id="idProcessTable"
				   growing="true"
				   growingScrollToLoad="true" 
				   growingThreshold="100" 
				   mode="MultiSelect"
				   sticky="ColumnHeaders,HeaderToolbar">
				<columns>
					<Column width="40%">
						<Text text="{/xMP4GxC_ProcessHeader_UI/ProcessDocumentNumber/#@sap:label}"/>
						<customData>
							<core:CustomData key="p13nData" 
											 value='\{"columnIndex":"0", 
													  "columnKey":"ProcessDocumentNumber", 
													  "leadingProperty":["ProcessDocumentNumber", "ProcessIDDescription"],
													  "sortProperty": "ProcessDocumentNumber"}'/>
						</customData>
					</Column>
					<Column>
						<Text text="{/xMP4GxC_ProcessHeader_UI/OwnerUUID/#@sap:label}"/>
						<customData>
						<core:CustomData key="p13nData" 
										 value='\{"columnIndex":"2", 
												  "columnKey":"OwnerUUID", 
												  "leadingProperty":["OwnerUUID", "OwnerUUIDText"], 
												  "sortProperty": "OwnerUUID" }'/>
						</customData>
					</Column>
				</columns>
				<items>
					<ColumnListItem>
						<cells>
							<reuseTable:ObjectIdentifier title="{ProcessDocumentNumber}" 
														 text="{ProcessIDDescription}"/>
							<reuseTable:ObjectIdentifier title="{OwnerUUIDText}" 
														 text="{OwnerUUID}"/>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</smartTable:SmartTable>
    </semantic:content>
    <semantic:titleCustomTextActions>
        <reuseButton:Share press="onAction('share', $event)"/>
    </semantic:titleCustomTextActions>
	</semantic:SemanticPage>
</mvc:View>